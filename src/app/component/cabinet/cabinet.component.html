<div *ngIf="loggedIn">
    <h3>Cabinet</h3>
    <p>{{ greeting }}</p>
    <div class="cabinet_nav_bar">
        <div>
            <ul>
                <li *ngIf="isInRole('USER')">
                    <a (click)="showAccountCreateForm()">Create account</a>
                </li>
                <li *ngIf="isInRole('USER')">
                    <a (click)="showAllAccounts()">All accounts</a>
                </li>
                <li *ngIf="isInRole('USER')">
                    <a (click)="showContactForm()">Contact admin</a>
                </li>
                <li *ngIf="isInRole('USER') || isInRole('ADMIN')">
                    <a (click)="showPasswordChangeForm()">Change password</a>
                </li>
                <li *ngIf="isInRole('ADMIN')">
                    <a (click)="showAllUsers()">Show all users</a>
                </li>
                <li *ngIf="isInRole('ADMIN')">
                    <a (click)="showAllUsersAccounts()">Show all accounts</a>
                </li>
                <li *ngIf="isInRole('ADMIN')">
                    <a (click)="showNewsList()">Show news list</a>
                </li>
                <li *ngIf="isInRole('ADMIN')">
                    <a (click)="showCreateNewsForm()">Add news</a>
                </li>
            </ul>
        </div>

        <div *ngIf="isShowCreateAccountForm">
            <app-account-create (infoMessage)="showInfoAlert($event)"
                                (errorMessage)="showErrorAlert($event)">
            </app-account-create>
        </div>

        <div *ngIf="isShowAccountsList">
            <app-accounts-list (isShowAccountsList)="isShowAccountsList = $event"
                               (isShowAccountsPasswordChangeForm)="isShowAccountChangePasswordPasswordForm = $event"
                               (selectedLogin)="selectedLogin = $event">
            </app-accounts-list>
        </div>

        <div *ngIf="isShowAccountChangePasswordPasswordForm">
            <app-account-password-change [accLogin]="selectedLogin"
                                         (infoMessage)="showInfoAlert($event)"
                                         (errorMessage)="showErrorAlert($event)">
            </app-account-password-change>
        </div>

        <div *ngIf="isShowChangePasswordForm">
            <app-cabinet-change-password (infoMessage)="showInfoAlert($event)"
                                         (errorMessage)="showErrorAlert($event)">
            </app-cabinet-change-password>
        </div>

        <div *ngIf="isShowContactForm">
            <app-contact (infoMessage)="showInfoAlert($event)"
                         (errorMessage)="showErrorAlert($event)">
            </app-contact>
        </div>

        <div *ngIf="isShowUserList">
            <app-user-list (infoMessage)="showInfoAlert($event)"
                           (errorMessage)="showErrorAlert($event)">
            </app-user-list>
        </div>

        <div *ngIf="isShowUsersAccounts">
            <app-users-accounts-list (infoMessage)="showInfoAlert($event)"
                                     (errorMessage)="showErrorAlert($event)">
            </app-users-accounts-list>
        </div>

        <div *ngIf="isShowNewsList">
            <app-admin-news-list (infoMessage)="showInfoAlert($event)"
                                     (errorMessage)="showErrorAlert($event)">
            </app-admin-news-list>
        </div>

        <div *ngIf="isShowCreateNewsForm">
            <app-create-news-form (infoMessage)="showInfoAlert($event)"
                                 (errorMessage)="showErrorAlert($event)">
            </app-create-news-form>
        </div>
    </div>

    <div class="alert infoMessage"
         [class.visible]="isVisible"
         [class.infoMessage]="infoMessage"
         [class.errorMessage]="errorMessage">
        {{infoMessage}}
        {{errorMessage}}
    </div>

    <button class="button" type="submit" (click)="onLogout()">Logout</button>
</div>


